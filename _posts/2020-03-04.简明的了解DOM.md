---
title: 简明的了解DOM
tags: Web前端
categories: 
- HTML
date: 2020-03-04 
---

## 什么是DOM
DOM就是文档对象模型，而HTML的文档document页面是一切的基础。当创建好一个页面并加载到浏览器时，DOM就悄然而生，它会把网页文档转换为一个文档对象，主要功能是处理网页内容。

## 浏览器如何渲染页面
### 概述
用户输入的网址在通过DNS解析后得到服务器地址，浏览器向服务器发起http请求，经过TCP/IP三次握手[<https://www.cnblogs.com/lms0755/p/9053119.html>]确认链接后，服务器将需要的代码发回给浏览器。浏览器接收到代码后进行解析，经过三大步骤：DOM构造、布局以及绘制页面，最后以网页形式呈现

### 三大步骤
#### 第一步，DOM构造
浏览器首先将收到的html代码，通过html解析器解析构建为一颗DOM树。DOM树就像是一颗倒长着的大树，这样的对象模型决定了节点之间都有一定的关联，它们关系可能有父子、有兄弟，我们可以顺着这颗树做出许多操作。接着将接收到的css代码，通过css解析器构建出样式表规则将这些规则分别放到对应的DOM树节点上，得到一颗带有样式属性的DOM树。

#### 第二步，布局
浏览器按从上到下，从左到右的顺序，读取DOM树的文档节点，顺序存放到一条虚拟的传送带上。传送带上的盒子就是节点，而传送带就是文档流。如果我们读取到的节点是另一个节点下的子节点，那么就按顺序放到该节点盒子的内部。如果子节点下还有子节点，在传送带上继续套到子一级的盒子内部。根据它在DOM树上的结构，可嵌套的层级没有限制。文档流排完之后，开始获取计算节点的坐标和大小等CSS属性，作为盒子的包装说明。然后把盒子摆放完成，这就将节点布局到了页面。

#### 第三步，绘制页面
布局完成之后，我们在页面上其实是看不到任何内容的，浏览器只是计算出了每一个节点对象应该被放到页面的哪个位置上，但并没有可视化。因此最后一步就是将所有内容绘制出来，完成整个页面的渲染。

### 文档流与网页之间的关系
文档流与网页之间的关系，其实就是将一维节点映射到二维空间的关系。

参考连接吃了这两个栗子后，我们再来看一个完整的页面它的代码多了一些，DOM树也更复杂。body下的子元素有三个nav，aside和div它们作为3个打包黑盒看起来是这样的然后将它们的子元素分别放到各自的黑盒当中如果遇到图片只需要把它当做设置了宽高的普通行内元素处理就好了当然你也可以设置它的属性为块级元素，改变图文混排时布局的效果。由此我们可以知道文档流与网页之间的关系，其实就是将一维节点映射到二维空间的关系。怎么样是不是很简单啊？学会后赶紧上手写点代码练习一下吧。<br/><br/>

参考链接:<https://www.zhihu.com/question/34219998/answer/611326215>

